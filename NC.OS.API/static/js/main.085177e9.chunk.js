(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){e.exports=n.p+"static/media/logo-trends-featured.c1257a8c.png"},108:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var a=n(201),r=n.n(a),o=function(e){return e||"number"===typeof e?void 0:"".concat(arguments.length<=3?void 0:arguments[3]," is required.")},i=function(e){return r.a.isEmail(e)?void 0:"".concat(e," is not a valid email.")}},208:function(e,t,n){e.exports=n(402)},329:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(195),r=n(0),o=n.n(r),i=n(118),c=n.n(i),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=n(410),m=n(408),d=n(407),p=n(411),f=n(31),h=n(9),b=n(409),v=n(5),g=n(24),O=n.n(g),E={env:"production",masterKey:"p6cOpe6d3QDNQ3DrMWg777810UPS0BgW",development:{baseApi:"http://wa-oavn.azurewebsites.net/api/"},staging:{baseApi:"http://wa-oavn.azurewebsites.net/api/"},production:{baseApi:"http://wa-oavn.azurewebsites.net/api/"}},y=E.masterKey,k=E[E.env],j={getToken:function(){return j.getCookie("TOKEN")},getUserInfo:function(){return j.getCookie("USER_INFO")},setToken:function(e,t){j.setCookie("TOKEN",e,t)},setUserInfo:function(e,t){j.setCookie("USER_INFO",e,t)},hasToken:function(){return j.checkCookie("TOKEN")},removeToken:function(){j.removeCookie("TOKEN")},removeUserInfo:function(){j.removeCookie("USER_INFO")},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},setCookie:function(e,t,n){t="string"!==typeof t?JSON.stringify(t):t;var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="expires="+a.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},removeCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},checkCookie:function(e){return""!==j.getCookie(e)}},w=j,N=(k.baseApi,{baseURL:k.baseApi}),C=function(e,t,n){return n=n?Object.assign({},N,n):N,O.a.post(e,t,Object(v.a)({},n,{headers:n.headers}))},T={baseURL:k.baseApi,headers:{Authorization:"Bearer "+w.getToken()}},I={LOGIN:"user/login"},U={login:function(e){var t={headers:{Authorization:"Basic "+btoa(e.email+":"+e.password)}};return C(I.LOGIN,e,t)}},L="LOGIN";function S(){return!!w.getToken()}function x(){return w.removeToken(),w.removeUserInfo(),function(e){e({type:L,payload:{isLoggedIn:!1}})}}var A={isLoggedIn:!1,errMsg:""},M=n(206),R=n(198),D=n.n(R).a.initializeApp({apiKey:"AIzaSyDVf3N_MhMTBUdM-MF0iAwZPDEuW_BXoJI",authDomain:"t-ecommerce.firebaseapp.com",databaseURL:"https://t-ecommerce.firebaseio.com",projectId:"t-ecommerce",storageBucket:"gs://t-ecommerce.appspot.com",messagingSenderId:"241651271627"}),_=(D.storage().ref(),"UPLOAD_FINISH"),P="UPDATE_PROGRESS",B="DELETE_IMAGE",W="CLEAN_UP";var z={finished:!1,uploadName:"",progress:0,fileUrls:[],v:1},G="RENDER_MENU";var F={render:!1},K="DELETE_CATEGORY";var J={id:"",v:1},H={buttonState:"",actionName:"",v:1},Q={tableName:"",data:[],count:0,v:0},Y={msg:"",type:""},q=Object(h.b)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=(t.payload?t.payload:"").id;switch(t.type){case K:n!==e.id&&(e=Object(v.a)({},e,{id:n,v:e.v+1}))}return e},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:e.render!==t.payload.render&&(e=Object(v.a)({},e,{render:t.payload.render}))}return e},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var n=t.payload,a=n.isLoggedIn,r=n.errMsg;e=a?Object(v.a)({},e,{isLoggedIn:a,errMsg:""}):Object(v.a)({},e,{isLoggedIn:a,errMsg:r})}return e},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:e=Object(v.a)({},e,{finished:t.payload.finished,uploadName:t.payload.uploadName,fileUrls:t.payload.fileUrls,v:e.v+1});break;case P:e=Object(v.a)({},e,{finished:t.payload.finished,uploadName:t.payload.uploadName,progress:t.payload.progress,v:e.v+1});break;case B:var n=t.payload.index,a=e.fileUrls;a&&a.length>0&&a.splice(n,1),e=Object(v.a)({},e,{fileUrls:Object(M.a)(a),v:e.v+1});break;case W:e=Object(v.a)({},z,{v:e.v+1})}return e},waitingButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STATE":e=Object(v.a)({},e,{buttonState:t.payload.buttonState,actionName:t.payload.actionName,v:e.v+1})}return e},form:b.a,table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TABLE_BODY":e=Object(v.a)({},e,{data:t.payload.data.rows,count:t.payload.data.count,v:e.v+1})}return e},toast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THROW_MSG":e=Object(v.a)({},e,{msg:t.payload.msg,type:t.payload.type})}return e}}),V=Object(h.c)(q),X=n(173),Z=n.n(X),$=n(12),ee=n(13),te=n(16),ne=n(14),ae=n(15),re=n(21),oe=n(406),ie=n(405),ce=n(174),se=n(107),le=n.n(se),ue=(n(329),n(108)),me=function(e){var t=e.input,n=e.className,a=e.label,r=e.type,i=e.meta,c=i.touched,s=i.error,l=i.warning;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({className:n},t,{placeholder:a,type:r})),c&&(s&&o.a.createElement("span",{className:"message error"},s)||l&&o.a.createElement("span",{className:"message warning"},l)))},de=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).state={remember:!1,rememberClass:"checkbox lbl-remember"},n.remember=n.remember.bind(Object(re.a)(Object(re.a)(n))),n.submitLogin=n.submitLogin.bind(Object(re.a)(Object(re.a)(n))),n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"remember",value:function(){this.setState({remember:!this.state.remember,rememberClass:this.state.remember?"checkbox lbl-remember":"checkbox active lbl-remember"})}},{key:"submitLogin",value:function(e){var t,n=this.props.history;(t={username:e.email,password:e.password},function(e,n,a){U.login(t).then(function(t){var r=a?30:7;w.setToken(t.data.success,r),w.setUserInfo(t.data.success,r),T.headers.Authorization="Bearer "+w.getToken(),e({type:L,payload:{isLoggedIn:!0}}),n.push("/orders")}).catch(function(t){401===t.response.status&&e({type:L,payload:{isLoggedIn:!1,errMsg:"Email or password is incorrect"}})})})(this.props.dispatch,n,this.state.remember)}},{key:"componentDidMount",value:function(){S()&&this.props.history.push("/orders")}},{key:"render",value:function(){var e=this.props,t=e.pristine,n=e.handleSubmit,a=e.submitting,r=e.invalid,i=e.errMsg;return o.a.createElement("form",{className:"login-page",onSubmit:n(this.submitLogin)},o.a.createElement("div",{className:"login-box"},o.a.createElement("div",{className:"logo-box"},o.a.createElement("img",{className:"logo",src:le.a,alt:""})),o.a.createElement("div",{className:"login-form"},o.a.createElement("h3",{className:"font-green"},"Sign In"),o.a.createElement("div",{className:"summary-error-msg"},o.a.createElement("span",{className:"message error"},i)),o.a.createElement("div",{className:"form-group"},o.a.createElement(oe.a,{type:"text",className:"form-control",name:"email",component:me,label:"Enter your email",validate:[ue.b,ue.a]})),o.a.createElement("div",{className:"form-group"},o.a.createElement(oe.a,{type:"password",className:"form-control",name:"password",component:me,label:"Enter your password",validate:[ue.b]})),o.a.createElement("div",{className:"form-actions"},o.a.createElement("button",{onClick:this.login,disabled:t||a||r,className:"btn btn-green"}," ","Login"),o.a.createElement("label",{htmlFor:"remember",className:this.state.rememberClass},o.a.createElement("input",{type:"checkbox",onChange:this.remember,className:"remember",id:"remember"})," ","Remember",o.a.createElement("span",null))))))}}]),t}(o.a.Component),pe=Object(ce.a)(Object(ie.a)({form:"loginForm"}),Object(f.b)(function(e){return{errMsg:e.account.errMsg}}))(de),fe=n(110),he=(n(393),n(394),o.a.Component,function(e){return function(t){function n(e){var t;return Object($.a)(this,n),(t=Object(te.a)(this,Object(ne.a)(n).call(this,e))).handlerClick=function(e){return function(n){t.isCanceled||(t.node.contains(n.target)?setTimeout(function(){t.toggle()},200):e&&t.setState({isOpen:!1,v:t.state.v+1}))}},t.toggle=function(){t.isCanceled||t.setState({isOpen:!t.state.isOpen,v:t.state.v+1})},t.state={isOpen:!1,v:1},t.node=o.a.createRef(),t.isCanceled=!1,t}return Object(ae.a)(n,t),Object(ee.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.isOpen;document.addEventListener("mousedown",this.handlerClick(e),!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handlerClick,!1),this.isCanceled=!0}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.v!==t.v}},{key:"render",value:function(){var t=this;return o.a.createElement(e,{nodeRef:function(e){return t.node=e},isOpen:this.state.isOpen})}}]),n}(o.a.Component)}),be=(n(395),o.a.createContext()),ve=(n(396),n(397),function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).handlerClick=n.handlerClick.bind(Object(re.a)(Object(re.a)(n))),n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"handlerClick",value:function(){var e=this.props.handlerClick;e()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props.menuItem,t=e.bag?o.a.createElement("span",{className:"bag",style:e.bagColor},e.bagNumber):"";return o.a.createElement("div",{className:"dropdown-menu-item display-flex",onClick:this.handlerClick},o.a.createElement("i",{className:e.icon}),o.a.createElement("span",null,e.name),t)}}]),t}(o.a.Component)),ge=function(e){function t(){return Object($.a)(this,t),Object(te.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props,t=e.listMenu,n=e.menuStyles,a=e.isOpen,r=t.map(function(e,t){return o.a.createElement(ve,{key:t,menuItem:e,handlerClick:e.handlerClick})}),i=a?"dropdown-menu open":"dropdown-menu close";return o.a.createElement("div",{className:i,style:n},r)}}]),t}(o.a.Component),Oe=function(e){function t(e){var n;Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).state={listMenu:[]};var a=n.props.matchProps.history;return n.state.listMenu.push({icon:"fas fa-lock",name:"Logout",handlerClick:function(){x(),a.push("/login")}}),n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isOpen!==e.isOpen}},{key:"render",value:function(){return console.log("bind"),o.a.createElement("div",{ref:this.props.nodeRef,className:"user-bar display-flex  align-items-center"},o.a.createElement("img",{src:""}),o.a.createElement("span",null,"Admin"),o.a.createElement("i",{className:"fas fa-angle-down"}),o.a.createElement(ge,{listMenu:this.state.listMenu,isOpen:this.props.isOpen,menuStyles:Ee.menuStyles}))}}]),t}(o.a.Component),Ee={menuStyles:{top:"100%",right:"-8px",width:"160px"}},ye=he(function(e){return o.a.createElement(be.Consumer,null,function(t){return o.a.createElement(Oe,Object.assign({},e,{matchProps:t}))})}),ke=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).state={},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return o.a.createElement("div",{className:"header display-flex"},o.a.createElement("div",{className:"left-header display-flex align-items-center"},o.a.createElement("img",{src:le.a}),o.a.createElement("button",{className:"menu-bar"},o.a.createElement("i",{className:"fas fa-bars"}))),o.a.createElement("div",{className:"right-header display-flex"},o.a.createElement("div",{className:"bar"},o.a.createElement(ye,null))))}}]),t}(o.a.Component),je=(n(398),function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).state={},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"wrap-body display-flex justify-content-center"},o.a.createElement("div",{className:"contain"},this.props.children))}}]),t}(o.a.Component)),we=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(te.a)(this,Object(ne.a)(t).call(this,e))).state={},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.onbeforeunload=function(t){"beforeunload"===t.type&&e.closeWindow(t)}}},{key:"closeWindow",value:function(e){x()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ke,null),o.a.createElement(je,null,this.props.children),o.a.createElement(fe.ToastContainer,{store:fe.ToastStore,position:fe.ToastContainer.POSITION.TOP_RIGHT,lightBackground:!0}))}}]),t}(o.a.Component),Ne=Object(f.b)(function(e){return e.toast,{}})(we),Ce=(n(399),n(400),function(e){var t=e.component,n=Object(a.a)(e,["component"]);return S()?o.a.createElement(u.a,Object.assign({},n,{render:function(e){return o.a.createElement(be.Provider,{value:e},o.a.createElement(Ne,null,o.a.createElement(t,e)))}})):o.a.createElement(u.a,Object.assign({},n,{render:function(e){return o.a.createElement(m.a,{to:"/login"})}}))}),Te=Z()({loader:function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,426))},loading:function(){return o.a.createElement("div",null,"Loading...")}});Te.preload(),c.a.render(o.a.createElement(d.a,null,o.a.createElement(f.a,{store:V},o.a.createElement(p.a,null,o.a.createElement(u.a,{exact:!0,path:"/login",component:pe}),o.a.createElement(u.a,{exact:!0,path:"/",component:pe}),o.a.createElement(Ce,{exact:!0,path:"/orders",component:Te}),o.a.createElement(Ce,{path:"*",component:Te})))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");s?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()}},[[208,1,2]]]);
//# sourceMappingURL=main.085177e9.chunk.js.map